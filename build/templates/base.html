<!DOCTYPE html>
<html lang="{{lang}}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}}</title>
    <meta name="description" content="{{description}}">
    
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="{{baseUrl}}/css/base/variables.css" as="style">
    <link rel="preload" href="{{baseUrl}}/css/base/typography.css" as="style">
    
    <!-- Critical CSS (will be inlined in production) -->
    {{criticalCSS}}
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="{{baseUrl}}/css/base/reset.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/base/variables.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/base/typography.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/base/layout.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/base/utilities.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/components/buttons.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/components/header.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/components/fullscreen-menu.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/components/footer.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/components/scrollytelling.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/components/homepage.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/components/story-page.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/components/contact-page.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/components/resources-page.css">
    <link rel="stylesheet" href="{{baseUrl}}/css/components/card.css">
    
    <!-- Favicon and meta tags -->
    <link rel="icon" href="{{baseUrl}}/{{favicon}}">
    <link rel="canonical" href="{{canonicalUrl}}">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{canonicalUrl}}">
    <meta property="og:title" content="{{title}}">
    <meta property="og:description" content="{{description}}">
    <meta property="og:image" content="{{baseUrl}}/images/og-image.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{canonicalUrl}}">
    <meta property="twitter:title" content="{{title}}">
    <meta property="twitter:description" content="{{description}}">
    <meta property="twitter:image" content="{{baseUrl}}/images/og-image.jpg">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {{structuredData}}
    </script>
</head>
<body>
    <!-- Header -->
    <header class="site-header-pill">
        <a href="{{baseUrl}}/" class="logo-area" aria-label="{{siteName}} Homepage">
            <img src="{{baseUrl}}/{{logo}}" alt="{{siteName}} Logo Icon" class="logo-icon">
            <span class="logo-text">{{logoText}}</span>
        </a>
        
        <div class="header-desktop-nav-container">
            <nav class="desktop-nav">
                <ul>
                    {{#navigation}}
                    <li><a href="{{baseUrl}}/{{href}}" {{#active}}class="active"{{/active}}>{{label}}</a></li>
                    {{/navigation}}
                </ul>
            </nav>
        </div>
        
        <!-- Mobile menu button would go here -->
    </header>
    
    <!-- Main Content -->
    <main>
        {{content}}
    </main>
    
    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content-block">
                <div class="footer-bottom-bar">
                    <p>{{copyright}} | {{#footerLinks}}<a href="{{baseUrl}}/{{href}}">{{text}}</a>{{#unless @last}} | {{/unless}}{{/footerLinks}}</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    {{#if isDevelopment}}
    <!-- Development: Load content system -->
    <script src="{{baseUrl}}/js/content/content-loader.js"></script>
    {{/if}}
    
    <!-- Production optimized scripts -->
    <script type="module" src="{{baseUrl}}/js/main.min.js"></script>
    
    <!-- Service Worker for PWA -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('{{baseUrl}}/sw.js');
        }
    </script>
</body>
</html>
